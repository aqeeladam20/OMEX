/* Full Width Layout Override for OMEX ERP */

/* Override the default page max width to use full screen */
:root {
    --page-max-width: 100% !important;
}

/* Ensure form sections use full width */
.section-head,
.section-body {
    max-width: 100% !important;
    margin: auto !important;
}

/* Make form sections use full width */
.form-section .section-body,
.form-dashboard-section .section-body {
    max-width: 100% !important;
}

/* Tree view full width */
.treeview .layout-main-section {
    max-width: 100% !important;
    margin: auto;
}

/* List view full width */
.layout-main-section {
    max-width: 100% !important;
}

/* Form layout full width */
.form-section .form-section-description {
    max-width: 100% !important;
}

/* Workspace full width override */
[data-page-route="Workspaces"] .layout-main {
    max-width: 100% !important;
}

[data-page-route="Workspaces"] .page-head .container {
    max-width: 100% !important;
}

/* Ensure containers don't limit width */
.container {
    max-width: 100% !important;
}

/* Page container full width */
.page-container {
    width: 100%;
}

/* Layout main section wrapper full width */
.layout-main-section-wrapper {
    width: 100%;
    max-width: 100% !important;
}

/* Form page full width */
.form-page {
    max-width: 100% !important;
}

/* Ensure main content areas use full width */
.layout-main {
    width: 100%;
    max-width: 100% !important;
}

/* Override any specific page restrictions */
.page-body {
    width: 100%;
    max-width: 100% !important;
}

/* Make sure the main content wrapper uses full width */
.main-section {
    max-width: 100% !important;
}

/* Override Bootstrap container restrictions */
@media (min-width: 768px) {
    .container {
        width: 100% !important;
        max-width: 100% !important;
    }
}

@media (min-width: 992px) {
    .container {
        width: 100% !important;
        max-width: 100% !important;
    }
}

@media (min-width: 1200px) {
    .container {
        width: 100% !important;
        max-width: 100% !important;
    }
}

/* Ensure form controls and sections expand properly */
.frappe-control,
.form-group {
    width: 100%;
}

/* Make sure page content uses available space */
.page-content-wrapper {
    width: 100%;
    max-width: 100% !important;
}

/* Override any remaining width restrictions */
.std-form-layout,
.form-layout {
    width: 100%;
    max-width: 100% !important;
}

/* Fix dark theme dropdown visibility issues */
[data-theme="dark"] .dropdown-menu {
    background-color: var(--gray-800) !important;
    border-color: var(--gray-600) !important;
    color: var(--text-color) !important;
}

[data-theme="dark"] .dropdown-item {
    color: var(--text-color) !important;
}

[data-theme="dark"] .dropdown-item:hover,
[data-theme="dark"] .dropdown-item:focus {
    background-color: var(--gray-700) !important;
    color: var(--text-color) !important;
}

[data-theme="dark"] .dropdown-item:active {
    background-color: var(--gray-600) !important;
    color: var(--text-color) !important;
}

[data-theme="dark"] .dropdown-divider {
    border-color: var(--gray-600) !important;
}

/* Enhanced Mobile and Tablet Responsive Design */

/* Mobile First Approach - Base styles for mobile */
@media (max-width: 767px) {
    /* Exclude login, signup, and forgot password pages from mobile styling */
    body:not(.login-page):not(.signup-page):not(.forgot-password-page) {
    /* Mobile Navigation */
    .navbar-brand {
        font-size: 16px !important;
        padding: 8px 10px !important;
    }
    
    .navbar-nav {
        margin: 0 !important;
    }
    
    .navbar-nav > li > a {
        padding: 10px 15px !important;
        font-size: 14px !important;
    }
    
    /* Mobile Forms */
    .form-section {
        padding: 10px !important;
        margin-bottom: 15px !important;
    }
    
    .frappe-control {
        margin-bottom: 15px !important;
    }
    
    .control-label {
        font-size: 14px !important;
        margin-bottom: 5px !important;
    }
    
    .form-control {
        font-size: 16px !important; /* Prevents zoom on iOS */
        padding: 12px !important;
        border-radius: 8px !important;
    }
    
    /* Mobile Buttons */
    .btn {
        padding: 12px 20px !important;
        font-size: 16px !important;
        border-radius: 8px !important;
        min-height: 44px !important; /* Touch target size */
    }
    
    .btn-primary {
        background-color: #061142 !important;
        border-color: #061142 !important;
    }
    
    /* Mobile Tables */
    .table-responsive {
        border: none !important;
        overflow-x: auto !important;
        -webkit-overflow-scrolling: touch !important;
    }
    
    .table {
        font-size: 14px !important;
    }
    
    .table th,
    .table td {
        padding: 8px 4px !important;
        white-space: nowrap !important;
    }
    
    /* Mobile List Views */
    .list-row {
        padding: 15px 10px !important;
        border-bottom: 1px solid var(--border-color) !important;
    }
    
    .list-row-col {
        padding: 5px !important;
        font-size: 14px !important;
    }
    
    /* Mobile Sidebar */
    .sidebar {
        width: 100% !important;
        position: fixed !important;
        top: 0 !important;
        left: -100% !important;
        height: 100vh !important;
        z-index: 9999 !important;
        transition: left 0.3s ease !important;
        background: var(--bg-color) !important;
    }
    
    .sidebar.show {
        left: 0 !important;
    }
    
    /* Mobile Page Layout */
    .page-container {
        padding: 10px !important;
    }
    
    .page-head {
        padding: 10px !important;
        margin-bottom: 15px !important;
    }
    
    .page-title h1 {
        font-size: 24px !important;
        margin: 0 !important;
    }
    
    /* Mobile Modals */
    .modal-dialog {
        margin: 10px !important;
        width: calc(100% - 20px) !important;
        max-width: none !important;
    }
    
    .modal-content {
        border-radius: 12px !important;
    }
    
    .modal-header {
        padding: 15px !important;
        border-bottom: 1px solid var(--border-color) !important;
    }
    
    .modal-body {
        padding: 15px !important;
    }
    
    /* Mobile Cards */
    .card {
        border-radius: 12px !important;
        margin-bottom: 15px !important;
        box-shadow: 0 2px 8px rgba(0,0,0,0.1) !important;
    }
    
    /* Mobile Workspace */
    .workspace-sidebar {
        display: none !important;
    }
    
    .layout-main {
        margin-left: 0 !important;
        padding: 10px !important;
    }
    
    /* Mobile Search */
    .search-bar {
        width: 100% !important;
        margin: 10px 0 !important;
    }
    
    .search-bar input {
        font-size: 16px !important;
        padding: 12px !important;
        border-radius: 25px !important;
    }
    
    /* Mobile Touch Improvements */
    .btn, .list-row, .card, .form-control, .dropdown-item {
        -webkit-tap-highlight-color: rgba(0,0,0,0.1) !important;
    }
    
    /* Ensure login page links work properly */
    .login-content a,
    .signup-content a,
    .forgot-password-content a {
        pointer-events: auto !important;
        touch-action: manipulation !important;
        -webkit-tap-highlight-color: rgba(0,0,0,0.2) !important;
    }
    
    /* Mobile Spacing */
    .margin-top {
        margin-top: 15px !important;
    }
    
    .margin-bottom {
        margin-bottom: 15px !important;
    }
    
    .padding {
        padding: 15px !important;
    }
    } /* Close body selector */
}

/* Tablet Styles */
@media (min-width: 768px) and (max-width: 1024px) {
    .container {
        padding: 0 20px !important;
    }
    
    .form-section {
        padding: 20px !important;
    }
    
    .btn {
        padding: 10px 16px !important;
        font-size: 14px !important;
    }
    
    .table th,
    .table td {
        padding: 10px 8px !important;
    }
    
    .modal-dialog {
        margin: 30px auto !important;
        width: 90% !important;
        max-width: 600px !important;
    }
    
    .sidebar {
        width: 280px !important;
    }
    
    .layout-main {
        margin-left: 280px !important;
        padding: 20px !important;
    }
}

/* Large Tablet/Small Desktop */
@media (min-width: 1025px) and (max-width: 1366px) {
    .container {
        padding: 0 30px !important;
    }
    
    .sidebar {
        width: 300px !important;
    }
    
    .layout-main {
        margin-left: 300px !important;
        padding: 30px !important;
    }
}

/* Barcode Scanner Optimizations for Mobile */
@media (max-width: 767px) {
    .barcode-scanner {
        width: 100% !important;
        height: 300px !important;
        border-radius: 12px !important;
        overflow: hidden !important;
    }
    
    .barcode-scanner video,
    .barcode-scanner canvas {
        width: 100% !important;
        height: 100% !important;
        object-fit: cover !important;
    }
    
    .barcode-result {
        position: fixed !important;
        bottom: 20px !important;
        left: 20px !important;
        right: 20px !important;
        background: var(--bg-color) !important;
        padding: 15px !important;
        border-radius: 12px !important;
        box-shadow: 0 4px 20px rgba(0,0,0,0.3) !important;
        z-index: 9999 !important;
    }
}

/* PWA Specific Styles */
@media (display-mode: standalone) {
    /* Hide browser UI elements when in PWA mode */
    .navbar {
        padding-top: env(safe-area-inset-top) !important;
    }
    
    .layout-main {
        padding-bottom: env(safe-area-inset-bottom) !important;
    }
    
    /* PWA Status Bar */
    .pwa-status-bar {
        height: env(safe-area-inset-top) !important;
        background: #061142 !important;
        position: fixed !important;
        top: 0 !important;
        left: 0 !important;
        right: 0 !important;
        z-index: 10000 !important;
    }
}

/* Dark Theme Mobile Optimizations */
[data-theme="dark"] {
    @media (max-width: 767px) {
        .card {
            background: var(--gray-800) !important;
            border-color: var(--gray-600) !important;
        }
        
        .form-control {
            background: var(--gray-700) !important;
            border-color: var(--gray-600) !important;
            color: var(--text-color) !important;
        }
        
        .btn-primary {
            background: #061142 !important;
            border-color: #061142 !important;
        }
    }
}

/* Accessibility Improvements */
@media (prefers-reduced-motion: reduce) {
    * {
        animation-duration: 0.01ms !important;
        animation-iteration-count: 1 !important;
        transition-duration: 0.01ms !important;
    }
}

/* High Contrast Mode */
@media (prefers-contrast: high) {
    .btn {
        border: 2px solid !important;
    }
    
    .form-control {
        border: 2px solid !important;
    }
    
    .card {
        border: 2px solid !important;
    }
}